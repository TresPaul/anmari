{{ define "main" }}

{{- partial "header.html" . -}}

<!-- if blog -->
{{ if or (or (eq .Section "post") (eq .Section "blog")) (or (eq .Section "categories") (eq .Section "tags") )}}

  <main class="prose">
    <section>
      <img src="{{ .Params.image | absURL }}" alt="{{ .Title }}">
      <h2>{{ .Title }}</h2>
      {{ if .Params.toc }}
        {{ .TableOfContents }}
      {{ end }}
    </section>

    <article>
      {{.Content}}
    </article>
    
    <!-- comments -->
    {{ if site.DisqusShortname }}
    <section>
      {{ template "_internal/disqus.html" . }}
    </section>
    {{ end }}
  </main>

  <!-- regular page -->
  {{ else }}
    <main class="container mx-auto my-16">

    <section class="text-3xl m-8
      grid grid-cols-1 gap-x-4 gap-y-4 items-start
      xl:grid-cols-2 xl:gap-y-24"
    >
      {{ partial "page-header.html" . }}
      <article>
        {{ .Content }}
      </article>
    </main>
  {{ end }}

{{ end }}
